{% extends 'base.html' %}

{% block title %}Convocatorias{% endblock %}

{% block content %}
{% include 'shared/_header.html' %}

<div class="container mt-4">
  <h3 class="fw-bold mb-4 text-start bg-light px-3 py-2 rounded">Todas las Convocatorias</h3>

  <div class="row">
    {% for evento in eventos %}
    <div class="col-md-4 mb-4">
      <div class="card h-100 shadow-sm border border-secondary rounded-3">
        <!-- Imagen del evento -->
        <img src="{{ url_for('static', filename=evento.afiche if evento.afiche else 'img/shared/eventDefault.png') }}"
             class="card-img-top rounded-top"
             style="height: 180px; object-fit: cover;" alt="Imagen del evento">

        <!-- Contenido del evento -->
        <div class="card-body d-flex flex-column justify-content-between">
          <h5 class="card-title text-primary">{{ evento.nombre_evento }}</h5>
          <p class="card-text text-muted">
            {{ evento.descripcion_evento[:30] }}{% if evento.descripcion_evento|length > 30 %}...{% endif %}
          </p>
          <a href="{{ url_for('home_bp.evento_publico', event_id=evento.id_evento) }}"
             class="btn btn-sm btn-secondary mt-auto">Ver m√°s</a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

{% endblock %}

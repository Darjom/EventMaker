{% extends 'base.html' %}

{% block title %}Crear Evento{% endblock %}

{% block content %}
<div class="text-center mt-4">
  <h1><span class="rojo-umss">Crear</span> <span class="azul-umss">Evento</span></h1>
</div>

<form method="POST" enctype="multipart/form-data">
  <div class="row azul-umss mt-4 px-5">

    <div class="col-md-5">
      <div class="mb-4">
        <h2>Título</h2>
        <input type="text" name="titulo" placeholder="Título del evento" required>
      </div>

      <div class="mb-4">
        <h2>Descripción</h2>
        <textarea name="descripcion" rows="4" placeholder="Descripción del evento" required></textarea>
      </div>

      <div class="row mb-4">
        <div class="col">
          <h3>Fecha de inicio</h3>
          <input type="date" name="fecha_inicio" required>
        </div>
        <div class="col">
          <h3>Fecha de fin</h3>
          <input type="date" name="fecha_fin" required>
        </div>
      </div>

        <div class="mb-4">
            <h2>Tipo de evento</h2>
            <select name="tipo_evento" required>
              <option disabled selected value="">Selecciona una opción</option>
              <option value="Conferencia">Conferencia</option>
              <option value="Taller">Taller</option>
              <option value="Seminario">Seminario</option>
            </select>
        </div>

    <div class="col-md-5 offset-md-1">
      <div class="mb-4">
        <h2>Capacidad máxima</h2>
        <input type="number" name="capacidad" placeholder="Ej: 100" min="1" required>
      </div>

      <div class="mb-4">
        <h2>Requisitos</h2>
        <input type="text" name="requisitos" placeholder="Ej: Registro previo">
      </div>

      <div class="mb-4">
        <h2>Lugar del evento</h2>
        <input type="text" name="lugar" placeholder="Ej: Auditorio UMSS" required>
      </div>

      <div class="mb-4">
        <h2>Slogan del evento</h2>
        <input type="text" name="slogan" placeholder="Ej: La innovación nos une">
      </div>

      <div class="upload-box" onclick="document.getElementById('file-input').click()">
        <div class="upload-icon">📷</div>
        <div class="upload-text">Haz clic para subir una imagen</div>
        <input type="file" id="file-input" name="afiche" accept="image/*" hidden onchange="mostrarPreview(this)">
        <img id="preview" alt="Vista previa del afiche">
      </div>
    </div>
  </div>

  <div class="row text-center mt-4">
    <div class="col">
      <h2>Términos y condiciones</h2>
      <input type="checkbox" name="terminos" required>
      <label for="terminos">Acepto los términos, condiciones y políticas del sistema</label>
    </div>
  </div>

  <div class="text-center mt-4 mb-5">
    <button type="submit" class="boton">
      <span class="icono">✏️</span>Crear evento
    </button>
  </div>
</form>
{% endblock %}

{% block scripts %}
<script>
  function mostrarPreview(input) {
    const preview = document.getElementById('preview');
    if (input.files && input.files[0]) {
      preview.src = URL.createObjectURL(input.files[0]);
      preview.style.display = 'block';
    }
  }
</script>
{% endblock %}
